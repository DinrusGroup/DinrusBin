module io.Stdout;

private import io.Console, io.stream.Format, text.convert.Layout;

private alias ФормВывод!(сим) Вывод;

public static Вывод Стдвыв,      /// global стандарт вывод
                     Стдош;      /// global ошибка вывод
public alias Стдвыв  стдвыв;      /// alternative
public alias Стдош  стдош;      /// alternative

static this ()
{
        // note that a static-ctor insопрe Выкладка fails 
        // в_ be invoked before this is executed (bug)
        auto выкладка = Выкладка!(сим).экземпляр;

        Стдвыв = new Вывод (выкладка, Квывод.поток);
        Стдош = new Вывод (выкладка, Кош.поток);
        
        Стдвыв.слей = !Квывод.перенаправленый;
        Стдош.слей = !Кош.перенаправленый;
}


/******************************************************************************

******************************************************************************/

debug (Стдвыв)
{
        проц main() 
        {
        Стдвыв ("hello").нс;               
        Стдвыв (1).нс;                     
        Стдвыв (3.14).нс;                  
        Стдвыв ('b').нс;                   
        Стдвыв ("abc") ("def") (3.14).нс;  
        Стдвыв ("abc", 1, 2, 3).нс;        
        Стдвыв (1, 2, 3).нс;        
        Стдвыв (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1).нс;

        Стдвыв ("abc {}{}{}", 1, 2, 3).нс; 
        Стдвыв.форматируй ("abc {}{}{}", 1, 2, 3).нс;
        }
}
